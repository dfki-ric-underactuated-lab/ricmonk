# Trajectory Stabilization

Trajectory stabilization is crucial for all robots to ensure trajectory tracking and it has been implemented in RicMonk to help the robot perform brachiation motion. Model-based [Time-varying Linear Quadratic Regulator (TVLQR)](/software/python/simulation/behavior_control/controllers/tvlqr/README.md) and model-free [Proportional-Integral-Derivative (PID) controller](/software/python/simulation/behavior_control/controllers/pid/README.md) that are employed to stabilize the optimal trajectories for the RicMonk.

## Operation
 The file **trajStabilization.py** is to run for stabilizing the trajectories recently optimized, i.e. the trajectories that would be in the folder named after the maneuver in [here](/data/trajectories/direct_collocation/), according to the maneuver. Input the maneuver to be stabilized and also the type of controller to be used (PID or TVLQR). The gains, for either of the controllers have been tuned to enable the controllers to track the trajectories that are stored. The gains may also be modified according to the user's choice by opening the Python file. Running the file would generate the stabilized trajectories. These stabilized trajectories are stored in the folder named concerning the maneuver, controller type, and the date and time of the program run in [here](/data/simulation/). Additionally, the .csv file with the trajectory data and the gains used to stabilize the respective trajectory are also saved in [here](/data/trajectories/closed_loop). 