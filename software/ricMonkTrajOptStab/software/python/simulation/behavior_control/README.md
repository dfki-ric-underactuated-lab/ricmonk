# Trajectory Stabilization

Trajectory stabilization is crucial for all robots to ensure trajectory tracking and it has been implemented in RicMonk to help the robot perform brachiation motion. Model-based [Time-varying Linear Quadratic Regulator(TVLQR)](/software/ricMonkTrajOptStab/software/python/simulation/behavior_control/controllers/tvlqr/README.md) and model-free [Proportional-Integral-Derivative(PID) controller](/software/ricMonkTrajOptStab/software/python/simulation/behavior_control/controllers/pid/README.md) that are employed to stabilize the optimal trajectories for the RicMonk.

## Operation
 The file **simulateTrajOpt_IPYNB.ipynb** is to run for stabilizing the trajectories recently optimized, i.e. the trajectories that would be in folder named after the maneuver in **../../../../../data/trajectories/direct_collocation/** with respect to the current folder. The **manuever** field may be modified to the choice of trajectory that needs to be optimized. Once done, run the file. The **controller_type** can also be changed to stabilized the trajectory using the PID controller or the TVLQR. The respective gains may be tuned using the variables provided.Running the file would generate the stabilized trajectories. These statbilized trajectories are stored in the folder named with respect to the maneuver, controller type and the date and time of program run. This folder is saved within the **../../../../../results** with respect to the current folder. Additionally, the .csv file with the trajectory data and the gains used to stabilize the respective trajectory are also saved in **../../../../../data/trajectories/closed_loop** with respect to the current folder. 